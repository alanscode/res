var boot = function (e) {
        this.preload = function () {
            e.load.image("loading", "assets/loading.png")
        }, this.create = function () {
            e.scale.pageAlignHorizontally = !0, e.scale.pageAlignVertically = !0, e.scale.scaleMode = Phaser.ScaleManager.SHOW_ALL, e.scale.updateLayout(), e.createPauseButton = function (t) {
                function a() {
                    e.paused = !1, $("#pausemenu").hide(), e.gameTimerText.text = "", setTimeout(function () {
                        pause.inputEnabled = !0, pause.alpha = 1
                    }, 1e3), e.startGameTimer(), e.sound.mute = e.Muted
                }
                pause = e.add.sprite(e.width - 110, 40, "PauseButton"), pause.inputEnabled = !0, pause.fixedToCamera = !0, pause.input.useHandCursor = !0, pause.scale.set(.7);
                $("#pauseimg").attr("src", "assets/pausemenu" + t + ".png");
                isIE = detectIE(), pause.events.onInputDown.add(function () {
                    if (setPauseMenu(), pause.alpha = 0, pause.inputEnabled = !1, e.paused = !0, $("#pausemenu").show(), isIE) {
                        var t = $("canvas").css("margin-top");
                        $("#pausemenu").css("margin-top", t)
                    }
                    e.pauseGameTimer()
                }), $("#resume").on("click", a), $("#resumex").on("click", a), $("#quit").on("click", quitGame), e.Muted = !1;
                var i = $("#sounds");
                i.on("click", function () {
                    e.Muted ? sounds.src = "assets/unmuted.png" : sounds.src = "assets/muted.png", e.Muted = !e.Muted
                });
                var s = $("#shopLink");
                s.unbind(), s.on("click", function () {
                    window.open("http://www.shophonda.com")
                })
            }, e.startGameTimer = function () {
                function t() {
                    clearTimeout(e.gameTimer);
                    var a = e.gameTime,
                        i = a.split(":"),
                        s = new Date;
                    s.setHours(0), s.setMinutes(i[0]), s.setSeconds(i[1]);
                    var n = new Date(s.valueOf() + 1e3),
                        o = n.toTimeString().split(" "),
                        d = o[0].split(":");
                    e.gameTime = d[1] + ":" + d[2], e.gameTimerText.text = "Elapsed Time " + e.gameTime, e.gameTimer = setTimeout(t, 1e3)
                }
                e.gameTimer || (e.gameTime = "00:00"), e.gameTimerText = e.add.text(32, 32, "Elapsed Time " + e.gameTime, {
                    font: "32px Joystix W00 Monospace",
                    fill: "black",
                    align: "center"
                }), e.gameTimerText.fixedToCamera = !0, setTimeout(t, 1e3)
            }, e.pauseGameTimer = function () {
                clearTimeout(e.gameTimer)
            };
            var t = null;
            e.shopHondaLinkClicked = function (e, a) {
                return null == t && (t = new Phaser.Rectangle(1600, 970, 240, 150)), t.contains(e, a) ? (window.open("http://www.shophonda.com"), !0) : !1
            }, e.state.start("Preload")
        }
    },
    preload = function (e) {
        this.preload = function () {
            var t = this.add.sprite(e.world.centerX - 400, e.world.centerY, "loading");
            this.load.setPreloadSprite(t);
            var a = e.add.text(e.world.centerX, e.world.centerY - 100, "Loading", {
                font: "80px Joystix W00 Monospace",
                fill: "white",
                align: "center"
            });
            a.anchor.set(.5), e.device.iOS || e.device.android ? (e.load.image("Vid1", "assets/cutscene1.gif"), e.load.image("Vid2", "assets/cutscene2.gif"), e.load.image("Vid3", "assets/cutscene3.gif"), e.load.image("Vid4", "assets/cutscene4.gif"), e.load.audio("video_sound", "assets/cutscene.mp3")) : (e.load.video("Vid1", "assets/CutScene1.mp4"), e.load.video("Vid2", "assets/CutScene2.mp4"), e.load.video("Vid3", "assets/CutScene3.mp4"), e.load.video("Vid4", "assets/CutScene4.mp4")), e.load.image("IntroMessage", "assets/intromessage.png"), e.load.image("PauseButton", "assets/pausebutton.png"), e.load.image("SkipButton", "assets/skipbutton.png"), e.load.image("PlayVidButton", "assets/playvidbutton.png")
        }, this.create = function () {
            e.state.start("CutScene", !0, !1, "Vid1", "Game1")
        }
    },
    intro = function (e) {
        this.preload = function () {
            e.load.image("IntroMessage", "assets/intromessage.png")
        }, this.create = function () {
            e.stage.backgroundColor = "#000";
            var t = e.add.sprite(0, 0, "IntroMessage");
            t.inputEnabled = !0, t.input.useHandCursor = !0, t.events.onInputDown.add(function (t, a) {
                return e.shopHondaLinkClicked(a.x, a.y) ? !1 : (dataLayer.push({
                    event: "btn_game_letsgo"
                }), void e.state.start("CutScene", !0, !1, "Vid1", "Game1"))
            }, this)
        }
    },
    cutscene = function (e) {
        this.preload = function () {}, this.init = function (t, a) {
            function i() {
                clearTimeout(u), a ? e.state.start(a) : showLeaderboard()
            }
            var s = e.device.iOS || e.device.android;
            if (s) {
                $("body").append('<img id="m_animation" src="' + e.cache.getImage(t).src + "?r=" + Math.random() + '"  style="position: absolute; left: 0; top: 0; width: 100%; height: auto; border: 0;" />');
                var n = 1080 * $(window).width() / 1920;
                $("#m_animation").css("top", ($(window).height() - n) / 2 + "px");
                var o = 0;
                switch (t) {
                    case "Vid1":
                        o = 18;
                        break;
                    case "Vid2":
                        o = 10;
                        break;
                    case "Vid3":
                        o = 14;
                        break;
                    case "Vid4":
                        o = 19
                }
                var d = e.add.audio("video_sound");
                d.play(), $("#m_animation").on("click", function () {
                    $(this).remove(), d.destroy(), i()
                });
                var u = setTimeout(function () {
                    $("#m_animation").remove(), d.destroy(), i()
                }, 1e3 * o)
            } else {
                video = e.add.video(t), video.touchLocked = !1, video.play(!1), video.addToWorld(0, 0);
                var r = e.add.sprite(1750, 900, "SkipButton");
                r.inputEnabled = !0, r.input.useHandCursor = !0, r.events.onInputDown.add(function () {
                    video.stop(), i()
                }, this), video.onComplete.add(function () {
                    video.stop(), i()
                }, this)
            }
        }
    };